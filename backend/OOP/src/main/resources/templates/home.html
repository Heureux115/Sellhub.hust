<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Trang chủ</title>
  <link rel="stylesheet" th:href="@{/css/home.css}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
<div th:if="${message}" id="popup-message"
     style="
          position: fixed;
          top: 20%;
          left: 50%;
          transform: translate(-50%, -50%);
          background: #4caf50;
          color: white;
          padding: 20px 40px;
          border-radius: 8px;
          font-size: 18px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.3);
          z-index: 9999;">
    <p th:text="${message}">Message</p>
</div>

<script th:inline="javascript">
    /*<![CDATA[*/
    let message = /*[[${message}]]*/ null;

    if(message != null && message.trim() !== '') {
        let popup = document.getElementById('popup-message');

        if(message.toLowerCase().includes('thất bại')) {
            popup.style.backgroundColor = '#f44336'; // màu đỏ lỗi
        } else {
            popup.style.backgroundColor = '#4caf50'; // màu xanh thành công
        }

        popup.style.display = 'block';

        setTimeout(function() {
            popup.style.display = 'none';
        }, 3000);
    }
    /*]]>*/
</script>


  <header class="header">
        <div class="logo">
            <a th:href="@{/back-to-home}">
                <img th:src="@{/css/imgs_oop/Logo.png}" alt="Logo" />
            </a>
        </div>

    <div class = "search">
     <form th:action="@{/search}" method="get">
         <label for="tim_kiem"></label><input
            placeholder = "Tìm kiếm sản phẩm"
            name = "keyword"
            id = "tim_kiem"
            size = "80"
        />
         <button type="submit" id="search_button" class="fa-solid fa-magnifying-glass"></button>
     </form>
    </div>

    <div class = "extra">
        <span class="hotline">Hotline:<br> 0834784586</span>

        <div class ="cart_button">
            <a th:href="@{/cart}">
                <button type="button" id = "cart_button" class="fa-solid fa-cart-plus"></button>
            </a>
        </div>
        <!-- Nếu đã đăng nhập: hiện username + logout -->
        <div th:if="${username != null}" class="user_section">
            <span style="margin-right: 10px;">Xin chào, <strong th:text="${username}">Username</strong></span>
            <div class="log_out">
                <form th:action="@{/logout}" method="post">
                    <button type="submit">Đăng xuất</button>
                </form>
            </div>
        </div>

        <!-- Nếu chưa đăng nhập: hiện Đăng nhập / Đăng ký -->
        <div th:if="${username == null}" class="auth_links">
            <a th:href="@{/login}">Đăng nhập</a> |
            <a th:href="@{/register}">Đăng ký</a>
        </div>
    </div>


  </header>
  <nav id="brand_list">
      <ul>
          <li id="ten_hang">Danh mục sản phẩm</li>
          <!-- Trang home.html -->
          <li>
              <form th:action="@{/category/phone}" method="get">
                  <button type="submit">Điện thoại</button>
              </form>
          </li>
          <li>
              <form th:action="@{/category/laptop}" method="get">
                  <button type="submit">Laptop</button>
              </form>
          </li>
          <li>
              <form th:action="@{/category/tablet}" method="get">
                  <button type="submit">Máy tính bảng</button>
              </form>
          </li>
          <li>
              <form th:action="@{/category/accessories}" method="get">
                  <button type="submit">Phụ kiện</button>
              </form>
          </li>
      </ul>
  </nav>

  
  <div class = "best_sellers">
  <h2>Gợi ý cho bạn: </h2>  
  <nav id = "best_sellers">
        <ul>
           <li>
                
           </li>
        </ul>
  </nav>
  </div>
</body>
</html>